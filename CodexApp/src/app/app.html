<div class="container">
  <header>
    <h1>{{ title() }}</h1>
    <p>C# Web API with OpenAPI + Angular 21</p>
  </header>

  @if (error) {
    <div class="error">
      {{ error }}
    </div>
  }

  <section class="weather-section">
    <h2>Weather Forecast</h2>
    @if (weather.length > 0) {
      <div class="weather-grid">
        @for (w of weather; track w.date) {
          <div class="weather-card">
            <div class="date">{{ w.date }}</div>
            <div class="temp">{{ w.temperatureC }}°C / {{ w.temperatureF }}°F</div>
            <div class="summary">{{ w.summary }}</div>
          </div>
        }
      </div>
    }
  </section>

  <section class="items-section">
    <h2>Items Management</h2>
    
    <div class="add-item">
      <h3>Add New Item</h3>
      <div class="form-group">
        <input 
          type="text" 
          [(ngModel)]="newItem.name" 
          placeholder="Item name"
          class="form-input">
        <input 
          type="text" 
          [(ngModel)]="newItem.description" 
          placeholder="Item description"
          class="form-input">
        <button (click)="addItem()" class="btn btn-primary">Add Item</button>
      </div>
    </div>

    <div class="items-list">
      <h3>Current Items</h3>
      @if (loading) {
        <div class="loading">Loading items...</div>
      }
      @if (!loading && items.length === 0) {
        <div class="no-items">
          No items yet. Add one above!
        </div>
      }
      @for (item of items; track item.id) {
        <div class="item-card">
          <div class="item-header">
            <h4>{{ item.name }}</h4>
            <button (click)="deleteItem(item.id)" class="btn btn-danger">Delete</button>
          </div>
          <p>{{ item.description }}</p>
        </div>
      }
    </div>
  </section>
</div>
<router-outlet />
